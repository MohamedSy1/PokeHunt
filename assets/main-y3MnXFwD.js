(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const a of e)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?a.credentials="include":e.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(e){if(e.ep)return;e.ep=!0;const a=n(e);fetch(e.href,a)}})();const k=async()=>{try{const t=await fetch("https://pokeapi.co/api/v2/pokemon-habitat/grassland/?offset=200&limit=200");if(!t.ok)throw Error("Pokemons not found!!");const c=await t.json(),n=[];c.pokemon_species.forEach(e=>{n.push(e.name)});const o=Math.floor(Math.random()*n.length);return console.log(n[o]),n[o]}catch(t){return console.warn(t),null}},g=async()=>{try{const t=await fetch("https://pokeapi.co/api/v2/pokemon-habitat/cave/?offset=200&limit=200");if(!t.ok)throw Error("Pokemons not found!!");const c=await t.json(),n=[];c.pokemon_species.forEach(e=>{n.push(e.name)});const o=Math.floor(Math.random()*n.length);return console.log(n[o]),n[o]}catch(t){return console.warn(t),null}},E=async()=>{try{const t=await k(),n=await(await fetch(`https://pokeapi.co/api/v2/pokemon/${t}`)).json(),o=document.querySelector("#poke"),e=document.createElement("li"),a=document.createElement("img"),s=document.createElement("h2"),m=document.createElement("button"),r=document.querySelector("#pokedex");return console.log(t),e.id=t,a.src=n.sprites.front_default,m.dataset.pokemonId=n.id,s.textContent=t,e.append(a),e.append(s),o.insertBefore(e,o.firstChild),r.append(o),document.body.append(r),n}catch(t){return console.log(t.message),null}},b=async()=>{try{const t=await g(),n=await(await fetch(`https://pokeapi.co/api/v2/pokemon/${t}`)).json(),o=document.querySelector("#poke"),e=document.createElement("li"),a=document.createElement("img"),s=document.createElement("h2"),m=document.createElement("button"),r=document.querySelector("#pokedex");return console.log(t),e.setAttribute("class","pokemons"),a.src=n.sprites.front_default,m.dataset.pokemonId=n.id,s.textContent=t,e.append(a),e.append(s),o.insertBefore(e,o.firstChild),r.append(o),document.body.append(r),n}catch(t){return console.log(t.message),null}},h=async t=>{try{const c=[];return t.stats.forEach(o=>{c.push({[o.stat.name]:o.base_stat})}),c}catch(c){return console.warn(c.message),null}},y=async()=>{const t=document.querySelector("#pokemonModal");t.innerHTML="";const c=await E(),n=await h(c),o=document.createElement("div"),e=document.createElement("h2"),a=document.createElement("img"),s=document.createElement("p"),m=document.createElement("p"),r=document.createElement("p"),i=document.createElement("p"),p=document.createElement("p"),d=document.createElement("button"),l=document.createElement("button");t.setAttribute("class","modal"),d.setAttribute("class","catch-button"),l.setAttribute("class","close-button"),a.src=c.sprites.front_default,e.textContent=c.name,p.textContent=`Height: ${c.height}`,i.textContent=`Weight: ${c.weight}`,r.textContent="Habitat: GrassLand",s.textContent=`Health: ${n[0].hp}`,m.textContent=`Attack: ${n[1].attack}`,d.textContent="Catch!",l.textContent="Abandone!",t.appendChild(a),t.appendChild(e),o.append(s),o.append(m),o.append(p),o.append(i),o.append(r),t.appendChild(o),t.appendChild(d),t.appendChild(l)},C=async()=>{const t=document.querySelector("#pokemonModal");t.innerHTML="";const c=await b(),n=await h(c);console.log(c);const o=document.createElement("div"),e=document.createElement("h2"),a=document.createElement("img"),s=document.createElement("p"),m=document.createElement("p"),r=document.createElement("p"),i=document.createElement("p"),p=document.createElement("p"),d=document.createElement("button"),l=document.createElement("button");t.setAttribute("class","modal"),d.setAttribute("class","catch-button"),l.setAttribute("class","close-button"),a.src=c.sprites.front_default,e.textContent=c.name,i.textContent=`Weight: ${c.weight}`,p.textContent=`Height: ${c.height}`,r.textContent="Habitat: caves",s.textContent=`Health: ${n[0].hp}`,m.textContent=`Attack: ${n[1].attack}`,d.textContent="Catch!",l.textContent="Abandone!",t.appendChild(a),t.appendChild(e),o.append(s),o.append(m),o.append(p),o.append(i),o.append(r),t.appendChild(o),t.appendChild(d),t.appendChild(l)},w=async t=>{const n=await(await fetch(`https://pokeapi.co/api/v2/pokemon/${t}`)).json(),o=await h(n),e=document.querySelector("#searchedPokemon"),a=document.createElement("div"),s=document.createElement("h2"),m=document.createElement("img"),r=document.createElement("p"),i=document.createElement("p"),p=document.createElement("p"),d=document.createElement("p"),l=document.createElement("button"),f=document.createElement("button");l.setAttribute("class","catch-button"),f.setAttribute("class","close-button"),m.src=n.sprites.front_default,s.textContent=n.name,d.textContent=`Height: ${n.height}`,p.textContent=`Weight: ${n.weight}`,r.textContent=`Health: ${o[0].hp}`,i.textContent=`Attack: ${o[1].attack}`,e.appendChild(m),e.appendChild(s),a.append(r),a.append(i),a.append(d),a.append(p),e.appendChild(a)};let u;const v=t=>{const c=document.querySelector("#pokemonModal"),n=document.querySelector("#poke"),o=document.querySelector(".pokemons");t.target.classList.contains("close-button")&&(c.close(),n.removeChild(o))},x=t=>{const c=document.querySelector("#pokemonModal");t.target.classList.contains("catch-button")&&c.close()},S=async t=>{t.preventDefault();const c=t.target,n=new FormData(c),o=Object.fromEntries(n);console.log("here is your data:",o.pokemon),await w(o.pokemon),c.reset()},P=()=>{const t=document.querySelector("#pokemonModal");document.body.addEventListener("click",v),document.body.addEventListener("click",x),document.querySelectorAll(".grass, .tree, .rock").forEach(e=>{const a=Math.random()*40,s=Math.random()*150;e.style.transform=`translate(${a}px, ${s}px)`});const c=document.getElementsByClassName("grass");for(const e of c)e.addEventListener("mouseover",()=>{u=setTimeout(()=>{t.showModal(),y()},5e3)}),e.addEventListener("mouseout",()=>{clearTimeout(u)});const n=document.getElementsByClassName("rock");for(const e of n)e.addEventListener("mouseover",()=>{u=setTimeout(()=>{t.showModal(),C()},5e3)}),e.addEventListener("mouseout",()=>{clearTimeout(u)});document.querySelector("#pokemon-search-form").addEventListener("submit",S)};P();
